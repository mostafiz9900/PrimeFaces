<h3 style="margin-top:0">Server-side code completion</h3>

<pe:codeMirror id="codeMirror1"
               mode="#{codeMirrorController.mode}"
               widgetVar="myCodeMirror"
               theme="eclipse" value="#{codeMirrorController.content}"
               lineNumbers="true"
               completeMethod="#{codeMirrorController.complete}"
               extraKeys="{'Ctrl-Space': function(cm){myCodeMirror.complete();}}"/>

<h3 style="margin-top:20px">JavaScript code completion</h3>

<pe:codeMirror id="codeMirror2" mode="#{codeMirrorController.mode}"
               theme="eclipse" value="#{codeMirrorController.content}"
               lineNumbers="true"
               extraKeys="{'Ctrl-Space': function(cm){CodeMirror.simpleHint(cm, CodeMirror.javascriptHint);}}"/>

<p:commandButton actionListener="#{codeMirrorController.changeMode}"
                 update="codeMirror1 codeMirror2"
                 value="Change mode with AJAX" style="margin-top:10px;"/>